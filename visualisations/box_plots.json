{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Race Duration by Gender",
    "width": 800,
    "height": 100,
    "data": {
      "url": "https://raw.githubusercontent.com/abigail-rose/3179/main/data/marathon_results_2015.csv"
    },
    "transform": [
        {
            "calculate": "datum['Official Time']? parseInt(split(datum['Official Time'],':')[0])*60 +parseInt(split(datum['Official Time'],':')[1]) + parseInt(split(datum['Official Time'],':')[2]/60) : 'No data from this region'",
            "as": "run_duration"
        },
        {"calculate": "datum['M/F']", "as": "Runner Gender"}    
    ],
    

    "mark": "boxplot",
    "encoding": {
        "y": {"field": "Runner Gender", "type": "nominal"},
        "color": {"field": "Runner Gender", "type": "nominal", "legend": null},
        "x": {
        "field": "run_duration",
        "type": "quantitative",
        "title": "Run Duration (mins)",
        "scale": {"zero": false}
        },
        "tooltip": [
            {"field": "Name", "type": "nominal", "title": "Runner Name"},
            {"field": "Country", "type": "nominal", "title": "Country"},
            {"field": "run_duration","type": "quantitative","title": "Marathon Duration (min)"}
        ]
    }
    }
    